(this["webpackJsonpprueba-teros-foreach"]=this["webpackJsonpprueba-teros-foreach"]||[]).push([[0],{32:function(e,t,r){e.exports={homePageContainer:"HomePage_homePageContainer__3jMIa"}},39:function(e,t,r){},40:function(e,t,r){},63:function(e,t,r){},66:function(e,t,r){"use strict";r.r(t);var n=r(1),o=r(0),c=r.n(o),s=r(31),a=r.n(s),i=(r(39),r(40),r(11)),l=r(6),j=r(69),d=r(32),b=r.n(d),h=function(e){return Object(n.jsxs)("section",{className:b.a.homePageContainer,children:[Object(n.jsx)("h1",{children:"Haz clic en el bot\xf3n de la acci\xf3n que quieras realizar"}),Object(n.jsxs)("section",{children:[Object(n.jsx)(i.b,{to:"/lista-de-viajes",children:Object(n.jsx)(j.a,{className:"btn btn-warning",style:{margin:"2rem"},children:"Ver lista de viajes"})}),Object(n.jsx)(i.b,{to:"/registro-de-viajes",children:Object(n.jsx)(j.a,{className:"btn btn-success",style:{margin:"2rem"},children:"Registrar un viaje"})})]})]})},u=r(13),O=r(14),x=r.n(O),p=(r(63),function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.travelFrom}),Object(n.jsx)("td",{children:e.travelTo}),Object(n.jsx)("td",{children:e.transport}),Object(n.jsx)("td",{children:e.kmTraveled}),Object(n.jsx)("td",{children:e.workers}),Object(n.jsx)("td",{children:e.logAuthor}),Object(n.jsx)("td",{children:e.roundTrip}),Object(n.jsx)("td",{children:e.CO2byWorker}),Object(n.jsx)("td",{children:e.totalCO2})]})}),m=r(67),v=function(e){var t=Object(o.useState)([]),r=Object(u.a)(t,2),c=r[0],s=r[1];Object(o.useEffect)((function(){x.a.get("http://localhost:8000/travel-log/v1/travels/").then((function(e){var t=e.data.data.travels;s(t)}))}),[]),console.log(c);var a=c.map((function(e){return Object(n.jsx)(p,{id:e._id,travelFrom:e.travelFrom,travelTo:e.travelTo,transport:e.transport,kmTraveled:e.kmTraveled,workers:e.workers,logAuthor:e.logAuthor,roundTrip:e.roundTrip?"S\xed":"No",CO2byWorker:e.CO2byWorker,totalCO2:e.totalCO2},e._id)}));return Object(n.jsxs)("section",{children:[Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"2rem"},children:[Object(n.jsx)("h1",{style:{textAlign:"center"},children:"Lista de viajes registrados"}),Object(n.jsx)(i.b,{to:"/",children:Object(n.jsx)(j.a,{children:"Volver al inicio"})}),Object(n.jsx)(i.b,{to:"/registro-de-viajes",children:Object(n.jsx)(j.a,{className:"btn btn-success",children:"Registrar un nuevo viaje"})})]}),Object(n.jsxs)(m.a,{style:{width:"80%",margin:"0 auto",minWidth:"100vh"},striped:!0,bordered:!0,hover:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Desde"}),Object(n.jsx)("th",{children:"Hacia"}),Object(n.jsx)("th",{children:"Transporte"}),Object(n.jsx)("th",{children:"Kms"}),Object(n.jsx)("th",{children:"Trabajadores"}),Object(n.jsx)("th",{children:"Autor del registro"}),Object(n.jsx)("th",{children:"\xbfIda y vuelta?"}),Object(n.jsx)("th",{children:"Kg CO2 por persona"}),Object(n.jsx)("th",{children:"Kg CO2 total del viaje"})]})}),Object(n.jsx)("tbody",{children:a})]})]})},g=r(68),f=function(e){var t=Object(o.useState)(null),r=Object(u.a)(t,2),c=r[0],s=r[1],a=Object(o.useState)(null),l=Object(u.a)(a,2),d=l[0],b=l[1],h=Object(o.useState)(null),O=Object(u.a)(h,2),p=O[0],m=O[1],v=Object(o.useState)(null),f=Object(u.a)(v,2),C=f[0],y=f[1];return Object(o.useEffect)((function(){null!==p&&function(){var e={travelFrom:c.fromAddress,travelTo:c.toAddress,transport:c.transport[0],kmTraveled:c.kms,workers:c.workers,logAuthor:c.logAuthor,roundTrip:c.roundTrip,totalCO2:p.totalCO2,CO2byWorker:p.CO2byWorker};x.a.post("http://localhost:8000/travel-log/v1/travels/",e).then((function(e){console.log(e),y("Viaje registrado correctamente.")})).catch((function(e){y("Se produjo un error durante el registro del viaje: ".concat(e.message))}))}()}),[p]),C&&setTimeout((function(){y(null)}),2e3),Object(n.jsxs)("section",{children:[Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"2rem"},children:[Object(n.jsx)("h1",{style:{textAlign:"center"},children:"Formulario de registro de viajes"}),Object(n.jsx)(i.b,{to:"/",children:Object(n.jsx)(j.a,{children:"Volver al inicio"})}),Object(n.jsx)(i.b,{to:"/lista-de-viajes",children:Object(n.jsx)(j.a,{className:"btn btn-warning",children:"Ver lista de viajes"})})]}),Object(n.jsxs)(g.a,{onChange:function(e){e.preventDefault();var t=e.currentTarget,r=t.formLogAuthor.value,n=t.formFromAddress.value,o=t.formToAddress.value,c=d||["Metro",.033],a=1*t.formKms.value,i=1*t.formWorkers.value,l=t.formRoundtrip.checked;s({logAuthor:r,fromAddress:n,toAddress:o,transport:c,kms:a,workers:i,roundTrip:l})},onSubmit:function(e){var t;e.preventDefault(),t=c.roundTrip?1:2;var r=c.transport[1]*c.kms*t,n=c.transport[1]*c.kms*t/c.workers;m({totalCO2:r,CO2byWorker:n})},style:{width:"80%",margin:"0 auto",minHeight:"120vh"},children:[Object(n.jsxs)(g.a.Group,{controlId:"formLogAuthor",children:[Object(n.jsx)(g.a.Label,{children:"Autor"}),Object(n.jsx)(g.a.Control,{type:"text",placeholder:"Escribe tu nombre completo",required:!0})]}),Object(n.jsxs)(g.a.Group,{controlId:"formFromAddress",children:[Object(n.jsx)(g.a.Label,{children:"Desde"}),Object(n.jsx)(g.a.Control,{type:"address",placeholder:"Direcci\xf3n",required:!0})]}),Object(n.jsxs)(g.a.Group,{controlId:"formToAddress",children:[Object(n.jsx)(g.a.Label,{children:"Hacia"}),Object(n.jsx)(g.a.Control,{type:"address",placeholder:"Direcci\xf3n",required:!0})]}),Object(n.jsxs)(g.a.Group,{controlId:"formTransport",children:[Object(n.jsx)(g.a.Label,{children:"Medio de transporte"}),Object(n.jsxs)(g.a.Control,{onChange:function(e){var t=e.target.options.selectedIndex,r=e.target.options[t].innerText,n=1*e.target.value;b([r,n])},as:"select",required:!0,children:[Object(n.jsx)("option",{value:"0.033",children:"Metro"}),Object(n.jsx)("option",{value:"0.21",children:"Auto"}),Object(n.jsx)("option",{value:"0.249",children:"Camioneta"}),Object(n.jsx)("option",{value:"0.092",children:"Motocicleta"}),Object(n.jsx)("option",{value:"0.039",children:"Bus Transantiago"}),Object(n.jsx)("option",{value:"0.012",children:"Bus privado"}),Object(n.jsx)("option",{value:"0.279",children:"Avi\xf3n (nacional)"}),Object(n.jsx)("option",{value:"0.179",children:"Avi\xf3n (internacional)"}),Object(n.jsx)("option",{value:"0",children:"Caminando"})]})]}),Object(n.jsxs)(g.a.Group,{controlId:"formKms",children:[Object(n.jsx)(g.a.Label,{children:"Kms recorridos"}),Object(n.jsx)(g.a.Control,{type:"number",placeholder:"Kil\xf3metros",required:!0})]}),Object(n.jsxs)(g.a.Group,{controlId:"formWorkers",children:[Object(n.jsx)(g.a.Label,{children:"Pasajeros"}),Object(n.jsx)(g.a.Control,{type:"number",placeholder:"Cantidad de personas en el viaje",required:!0})]}),Object(n.jsx)(g.a.Group,{controlId:"formRoundtrip",children:Object(n.jsx)(g.a.Check,{type:"checkbox",label:"\xbfSolo ida? (desmarcar si fue ida y vuelta)"})}),Object(n.jsx)(j.a,{className:"btn btn-success",variant:"primary",type:"submit",children:"Enviar"}),Object(n.jsx)("h4",{style:{marginTop:"1rem",color:"green",fontWeight:"bold"},children:C})]})]})},C=(r(65),function(){return Object(n.jsx)(i.a,{children:Object(n.jsx)("main",{children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{path:"/",component:h,exact:!0}),Object(n.jsx)(l.a,{path:"/lista-de-viajes",component:v}),Object(n.jsx)(l.a,{path:"/registro-de-viajes",component:f})]})})})}),y=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,70)).then((function(t){var r=t.getCLS,n=t.getFID,o=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),o(e),c(e),s(e)}))};a.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(C,{})}),document.getElementById("root")),y()}},[[66,1,2]]]);
//# sourceMappingURL=main.885a0739.chunk.js.map